{% extends "layout.html" %}

{% block content %}

{% if author %}
<div class="profile-card">
    <div class="profile-avatar">{{ author.name[0] }}</div>
    <h2>{{ author.name }}</h2>
    <p><strong>Alter:</strong> {{ author.age or "Unbekannt" }}</p>
    <p><strong>Geschlecht:</strong> {{ author.gender or "Nicht angegeben" }}</p>
    <p><strong>Muttersprache:</strong> {{ author.first_language or "Nicht angegeben" }}</p>
    <p><strong>Weitere Sprachen:</strong> {{ author.languages | join(', ') if author.languages else "Keine" }}</p>
    <p><strong>Region:</strong> {{ author.region or "Nicht angegeben" }}</p>
    <p><strong>Beruf:</strong> {{ author.job or "Nicht angegeben" }}</p>
    <p><strong>Anzahl Chats: </strong> {{ author.chat_ids | length }}</p>
  <button id="add-chat-btn" data-author-id="{{ author.id }}" style="margin-top:0.5rem; padding:0.4rem 1rem; background:#0074D9; color:white; border:none; border-radius:4px; cursor:pointer; font-size:1em;">Chat hinzufügen</button>
    <div style="margin-top:1.5rem;">
        <label for="annotation-box"><strong>Annotation:</strong></label><br>
        <textarea id="annotation-box" class="annotation-box" rows="3" readonly>{{ author.annotation or '' }}</textarea>
        <div style="font-size:0.9em;color:#888;">(Klick zum Bearbeiten, Enter oder Klick außerhalb speichert)</div>
  <!-- JS moved to static/js/profile.js -->
    </div>
</div>
{% else %}
    <div class="no-element-selected">
        <p style="text-align: center; margin-top: 40px; color: #777;">
            Wähle einen Autor aus der Liste links aus.
        </p>
    </div>
{% endif %}
{% endblock %}
{% block scripts %}
  <script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %}
