{% extends "layout.html" %}

{% block content %}
    <h2>Chat with {{ chat.participants | reject('equalto', current_user) | join(', ') }}</h2>
    <div class="chat-box">
        {% for message in chat.messages %}
            <div class="message {{ 'sent' if message.sender == current_user else 'received' }}">
                {% if message.quoted_message %}
                <div class="quoted">{{ message.quoted_message }}</div>
                {% endif %}
                <div class="text">{{ message.content }}</div>
                <div class="timestamp">{{ message.timestamp }}</div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
